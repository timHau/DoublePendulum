# Double Pendulum Map Renderer

<p align="center">
  <img width="500" alt="map" src="https://github.com/user-attachments/assets/269b7188-7203-4034-856d-9c6e4472e49d">
</p>

This project leverages [Metal](https://developer.apple.com/metal), Apples GPU-accelerated graphics API, to render a double pendulum fractal map.
Double pendulum fractals are intricate and beautiful patterns generated by simulating chaotic double pendulum motion and visualizing points of stability and chaos.

## Details

A double Pendulum is a physical system consisting of two pendulums attached to each other.
The motion of a double pendulum is governed by a set of coupled ordinary differential equations and is chaotic in nature.

<p align="center">
  <picture>
    <img width="373" align="top" alt="dp" src="https://github.com/user-attachments/assets/e913455a-c510-4245-b3a3-27056938a234">
  </picture>
</p>
<p align="center">A double Pendulum (Illustration from <a href="https://dassencio.org/46">here</a>) </p>

There is no closed form solutions for $\theta_1$ and $\theta_2$ as functions of time, but it is possible to numerically solve for them using the [Runge Kutta](https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods) method.
To visualize the state of the double pendulum, one can map the angles of the two pendulums to a color.
The x-axis represents the angle $\theta_1$ and the y-axis the angle $\theta_2$, both angles are mapped to a color via

$$
\begin{pmatrix}\theta_1 \\ \theta_2\end{pmatrix} \mapsto
\begin{pmatrix}\frac{1}{2} + \frac{1}{2}
  \begin{bmatrix}
    -\sin(\theta_1) \cdot \cos(\theta_2) \\
    \sin(\theta_1) \cdot \sin(\theta_2) \\
    -\cos(\theta_1)
  \end{bmatrix}
\end{pmatrix}^{\frac{3}{4}}
$$

## Getting Started

### Prerequisites

- Only tested on macOS 14.6.1 (Feel free to report an issue if it is not working with other versions)
- Xcode 16.0
- A device with Metal support

### Installation

- Clone this repository:

```bash
git clone git@github.com:timHau/DoublePendulum.git
cd DoublePendulum
```

- Open the project in Xcode:

```bash
open DoublePendulum.xcodeproj
```

- Build and run the project

#### Acknowledgments

Heavily inspired by

- [this video](https://www.youtube.com/watch?v=n7JK4Ht8k8M) from Sam Maksimovich
- [this notebook](https://observablehq.com/@rreusser/the-double-pendulum-fractal) from Ricky Reusser
